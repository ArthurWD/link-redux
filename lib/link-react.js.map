{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a66f6359652365fec9b7","webpack:///./src/index.js","webpack:///./src/react/components/index.js","webpack:///./src/react/components/PropertyBase.jsx","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external \"link-lib\"","webpack:///./src/react/components/Property.jsx","webpack:///./src/react/components/RenderStoreProvider.jsx"],"names":["default","LANG_PREF","propTypes","label","oneOfType","arrayOf","string","allPropertyTypes","properties","props","filter","obj","map","concat","getValueOrID","prop","getPropBestLang","rawProp","Array","isArray","length","i","pIndex","findIndex","p","PropertyBase","property","possibleProperties","expandedProperty","context","schemaObject","undefined","getLinkedObjectPropertyRaw","val","Object","keys","constructor","href","toString","getLinkedObjectProperty","Component","contextTypes","object","Property","linkedRenderStore","getRenderClassForProperty","topology","Klass","getLinkedObjectClass","RenderStoreProvider","children","childContextTypes"],"mappings":"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","file":"link-react.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"link-lib\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"link-react\", [\"react\", \"link-lib\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"link-react\"] = factory(require(\"react\"), require(\"link-lib\"));\n\telse\n\t\troot[\"link-react\"] = factory(root[\"React\"], root[\"link-lib\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a66f6359652365fec9b7","export * from './react/components';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export { default as PropertyBase } from './PropertyBase';\nexport { default as Property } from './Property';\nexport { default as RenderStoreProvider } from './RenderStoreProvider';\n\n\n\n// WEBPACK FOOTER //\n// ./src/react/components/index.js","import React, { PropTypes } from 'react';\nimport {\n  expandProperty,\n  normalizePropery,\n  propertyIncludes,\n  schema\n} from 'link-lib';\n\nconst LANG_PREF = ['nl', 'en'];\n\nconst propTypes = {\n  label: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]),\n};\n\nfunction allPropertyTypes(properties) {\n  const props = schema['@graph']\n  .filter(obj => propertyIncludes(obj['owl:sameAs'], properties))\n  .map(obj => normalizePropery(obj));\n  return properties.concat(...props);\n}\n\nfunction getValueOrID(prop) {\n  return prop && (prop['@value'] || prop['@id']);\n}\n\nfunction getPropBestLang(rawProp) {\n  if (!Array.isArray(rawProp)) {\n    return getValueOrID(rawProp);\n  }\n  if (rawProp.length === 1) {\n    return getValueOrID(rawProp[0]);\n  }\n  for (let i = 0; i < LANG_PREF.length; i++) {\n    const pIndex = rawProp.findIndex(p => p['@language'] === LANG_PREF[i]);\n    if (pIndex >= 0) {\n      return getValueOrID(rawProp[pIndex]);\n    }\n  }\n  return getValueOrID(rawProp[0]);\n}\n\nclass PropertyBase extends React.Component {\n  getLinkedObjectPropertyRaw(property) {\n    const possibleProperties = allPropertyTypes(this.expandedProperty(property));\n    for (let i = 0; i < possibleProperties.length; i++) {\n      const prop = this.context.schemaObject[possibleProperties[i]];\n      if (prop) {\n        return prop;\n      }\n    }\n    return undefined;\n  }\n\n  getLinkedObjectProperty(property) {\n    const rawProp = this.getLinkedObjectPropertyRaw(property);\n    if (!rawProp) {\n      return undefined;\n    }\n    const val = getPropBestLang(rawProp);\n    return val &&\n      (Object.keys(val).length !== 0 || val.constructor !== Object) &&\n      (val.href || val.toString());\n  }\n\n  expandedProperty(property) {\n    const prop = property || this.props.label;\n    if (Array.isArray(prop)) {\n      return prop.map(p => expandProperty(p));\n    }\n    return [expandProperty(prop)];\n  }\n\n  render() {\n    return (\n      <span>\n        PropBase: {this.getLinkedObjectProperty()}\n      </span>\n    );\n  }\n}\n\nPropertyBase.contextTypes = {\n  schemaObject: PropTypes.object,\n};\nPropertyBase.propTypes = propTypes;\n\nexport default PropertyBase;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react/components/PropertyBase.jsx","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"link-lib\"\n// module id = 4\n// module chunks = 0","import React, { PropTypes } from 'react';\n\nimport PropertyBase from './PropertyBase';\n\n/**\n * Picks the best view for the given objects' property\n *\n * @param {Object} object The resource of which the property is rendered\n *\n * @param {String} property The property to be rendered\n */\nclass Property extends PropertyBase {\n  getLinkedObjectClass() {\n    return this.context.linkedRenderStore.getRenderClassForProperty(\n      this.context.schemaObject['@type'],\n      this.expandedProperty(),\n      this.context.topology\n    );\n  }\n\n  render() {\n    const Klass = this.getLinkedObjectClass();\n    if (Klass) {\n      return <Klass {...this.props} />;\n    }\n    return (<div>{this.getLinkedObjectProperty()}</div>);\n  }\n}\n\nProperty.contextTypes = {\n  linkedRenderStore: PropTypes.object,\n  schemaObject: PropTypes.object,\n  topology: PropTypes.string,\n};\n\nexport default Property;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react/components/Property.jsx","import React, { Component, PropTypes } from 'react';\n\nclass RenderStoreProvider extends Component {\n  getChildContext() {\n    return {\n      linkedRenderStore: this.props.linkedRenderStore,\n    };\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nRenderStoreProvider.childContextTypes = {\n  linkedRenderStore: PropTypes.object,\n};\n\nexport default RenderStoreProvider;\n\n\n\n// WEBPACK FOOTER //\n// ./src/react/components/RenderStoreProvider.jsx"],"sourceRoot":""}